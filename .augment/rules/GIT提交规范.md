---
type: 'always_apply'
---

# Git æäº¤è§„èŒƒ

> ç¡®ä¿æäº¤ä¿¡æ¯å‡†ç¡®ã€æ¸…æ™°ã€å¯è¿½æº¯çš„å®Œæ•´æŒ‡å—

## ğŸ¯ æ ¸å¿ƒåŸåˆ™

### 1. æäº¤ä¿¡æ¯å¿…é¡»ä¸å®é™…ä»£ç æ”¹åŠ¨å®Œå…¨ä¸€è‡´

- âŒ **ç¦æ­¢**: æäº¤ä¿¡æ¯æè¿°äº†å¤§é‡ä¿®æ”¹,ä½†å®é™…åªæ”¹äº†å‡ è¡Œä»£ç 
- âœ… **æ­£ç¡®**: æäº¤ä¿¡æ¯å‡†ç¡®åæ˜ æ‰€æœ‰ä»£ç æ”¹åŠ¨,ä¸å¤¸å¤§ä¹Ÿä¸é—æ¼

### 2. ä¸€æ¬¡æäº¤åªåšä¸€ä»¶äº‹

- âŒ **ç¦æ­¢**: ä¸€æ¬¡æäº¤åŒ…å«å¤šä¸ªä¸ç›¸å…³çš„ä¿®æ”¹(æ ·å¼+API+æ€§èƒ½ä¼˜åŒ–)
- âœ… **æ­£ç¡®**: æ¯æ¬¡æäº¤ä¸“æ³¨äºå•ä¸€ç›®çš„,ä¾¿äºå›æ»šå’Œè¿½æº¯

### 3. æäº¤å‰å¿…é¡»éªŒè¯

- âŒ **ç¦æ­¢**: ç›´æ¥æäº¤æœªæµ‹è¯•çš„ä»£ç 
- âœ… **æ­£ç¡®**: æäº¤å‰è¿è¡Œ ESLintã€TypeScript æ£€æŸ¥å’Œç›¸å…³æµ‹è¯•

## ğŸ“ æäº¤ä¿¡æ¯æ ¼å¼

### åŸºæœ¬æ ¼å¼

```
<type>(<scope>): <subject>

<body>

<footer>
```

### Type ç±»å‹

| ç±»å‹       | è¯´æ˜                 | ç¤ºä¾‹                                   |
| ---------- | -------------------- | -------------------------------------- |
| `feat`     | æ–°åŠŸèƒ½               | `feat(finance): æ·»åŠ åº”æ”¶æ¬¾ç»Ÿè®¡å›¾è¡¨`    |
| `fix`      | Bug ä¿®å¤             | `fix(api): ä¿®å¤åˆ†é¡µå‚æ•°éªŒè¯é”™è¯¯`       |
| `refactor` | ä»£ç é‡æ„(ä¸æ”¹å˜åŠŸèƒ½) | `refactor(api): æ‹†åˆ†è¶…é•¿å‡½æ•°`          |
| `style`    | æ ·å¼ä¿®æ”¹(UI/CSS)     | `style(finance): ç»Ÿä¸€å¡ç‰‡æ ·å¼`         |
| `perf`     | æ€§èƒ½ä¼˜åŒ–             | `perf(cache): æ·»åŠ  Redis ç¼“å­˜å±‚`       |
| `test`     | æµ‹è¯•ç›¸å…³             | `test(api): æ·»åŠ é”€å”®è®¢å• API æµ‹è¯•`     |
| `docs`     | æ–‡æ¡£ä¿®æ”¹             | `docs(readme): æ›´æ–°å®‰è£…è¯´æ˜`           |
| `chore`    | æ„å»º/å·¥å…·/ä¾èµ–       | `chore(deps): å‡çº§ Next.js åˆ° 15.4`    |
| `revert`   | å›æ»šæäº¤             | `revert: å›æ»š feat(finance): æ·»åŠ å›¾è¡¨` |

### Scope èŒƒå›´

å¸¸ç”¨èŒƒå›´:

- `api` - API æ¥å£
- `ui` - ç”¨æˆ·ç•Œé¢
- `finance` - è´¢åŠ¡æ¨¡å—
- `inventory` - åº“å­˜æ¨¡å—
- `sales` - é”€å”®æ¨¡å—
- `customer` - å®¢æˆ·ç®¡ç†
- `supplier` - ä¾›åº”å•†ç®¡ç†
- `product` - äº§å“ç®¡ç†
- `cache` - ç¼“å­˜ç³»ç»Ÿ
- `database` - æ•°æ®åº“
- `auth` - è®¤è¯æˆæƒ

### Subject ä¸»é¢˜

- ä½¿ç”¨ä¸­æ–‡æè¿°
- ä¸è¶…è¿‡ 50 ä¸ªå­—ç¬¦
- ä½¿ç”¨ç¥ˆä½¿å¥,ä¸è¦è¿‡å»å¼
- é¦–å­—æ¯å°å†™
- ç»“å°¾ä¸åŠ å¥å·

âœ… æ­£ç¡®ç¤ºä¾‹:

```
feat(finance): æ·»åŠ åº”æ”¶æ¬¾å¯¼å‡ºåŠŸèƒ½
fix(api): ä¿®å¤åˆ†é¡µå‚æ•°éªŒè¯é”™è¯¯
refactor(inventory): æ‹†åˆ†åº“å­˜æŸ¥è¯¢å‡½æ•°
```

âŒ é”™è¯¯ç¤ºä¾‹:

```
æ·»åŠ äº†å¯¼å‡ºåŠŸèƒ½ã€‚  # ç¼ºå°‘ type å’Œ scope
Fix bug  # ä½¿ç”¨è‹±æ–‡ä¸”ä¸å…·ä½“
ä¿®å¤äº†ä¸€äº›é—®é¢˜  # ä¸å…·ä½“
```

### Body æ­£æ–‡(å¯é€‰)

è¯¦ç»†è¯´æ˜:

- ä¸ºä»€ä¹ˆåšè¿™ä¸ªä¿®æ”¹
- ä¿®æ”¹äº†ä»€ä¹ˆ
- å¦‚ä½•ä¿®æ”¹çš„
- å½±å“èŒƒå›´

ç¤ºä¾‹:

```
feat(finance): æ·»åŠ åº”æ”¶æ¬¾æ‰¹é‡å¯¼å‡ºåŠŸèƒ½

## ä¿®æ”¹å†…å®¹
- æ·»åŠ å¯¼å‡ºæŒ‰é’®å’Œä¸‹æ‹‰èœå•
- å®ç° Excel å¯¼å‡ºé€»è¾‘
- æ”¯æŒç­›é€‰æ¡ä»¶å¯¼å‡º
- æ·»åŠ å¯¼å‡ºè¿›åº¦æç¤º

## æŠ€æœ¯å®ç°
- ä½¿ç”¨ xlsx åº“ç”Ÿæˆ Excel æ–‡ä»¶
- åç«¯åˆ†é¡µæŸ¥è¯¢é¿å…å†…å­˜æº¢å‡º
- å‰ç«¯ä½¿ç”¨ Blob ä¸‹è½½æ–‡ä»¶

## å½±å“èŒƒå›´
- æ–°å¢ /api/finance/receivables/export æ¥å£
- ä¿®æ”¹åº”æ”¶æ¬¾åˆ—è¡¨é¡µé¢
```

### Footer é¡µè„š(å¯é€‰)

ç”¨äº:

- å…³è” Issue: `Closes #123`
- ç ´åæ€§å˜æ›´: `BREAKING CHANGE: API å‚æ•°æ ¼å¼å˜æ›´`
- ç›¸å…³æäº¤: `Related to #456`

## âœ… æäº¤å‰æ£€æŸ¥æ¸…å•

### å¿…é¡»å®Œæˆçš„æ£€æŸ¥

```bash
# 1. æŸ¥çœ‹å®é™…ä¿®æ”¹çš„æ–‡ä»¶
git status

# 2. æŸ¥çœ‹å…·ä½“æ”¹åŠ¨å†…å®¹
git diff

# 3. è¿è¡Œ ESLint æ£€æŸ¥
npm run lint

# 4. è¿è¡Œ TypeScript æ£€æŸ¥
npm run type-check

# 5. æ ¼å¼åŒ–ä»£ç 
npm run format

# 6. ç¡®è®¤æš‚å­˜çš„æ–‡ä»¶
git diff --cached
```

### æäº¤ä¿¡æ¯æ£€æŸ¥

- [ ] Type ç±»å‹æ­£ç¡®
- [ ] Scope èŒƒå›´å‡†ç¡®
- [ ] Subject æè¿°æ¸…æ™°å…·ä½“
- [ ] æäº¤ä¿¡æ¯ä¸å®é™…æ”¹åŠ¨ä¸€è‡´
- [ ] æ²¡æœ‰åŒ…å«æ— å…³çš„æ–‡ä»¶ä¿®æ”¹
- [ ] æ²¡æœ‰æäº¤è°ƒè¯•ä»£ç æˆ– console.log
- [ ] æ²¡æœ‰æäº¤æ•æ„Ÿä¿¡æ¯(å¯†ç ã€å¯†é’¥ç­‰)

## ğŸš« å¸¸è§é”™è¯¯ç¤ºä¾‹

### é”™è¯¯ 1: æäº¤ä¿¡æ¯ä¸å®é™…ä¸ç¬¦

```bash
# âŒ é”™è¯¯
git commit -m "feat(finance): ç»Ÿä¸€è´¢åŠ¡ç®¡ç†é¡µé¢ UI é£æ ¼

- ç»Ÿä¸€é¡µé¢å®¹å™¨ä¸º space-y-6
- ç»Ÿä¸€æ ‡é¢˜æ ·å¼
- ç»Ÿä¸€ç»Ÿè®¡å¡ç‰‡ç»“æ„
- ç»Ÿä¸€æœç´¢æ¡†æ ·å¼
..."

# å®é™…åªæ”¹äº† 2 è¡Œä»£ç :
# - handleSearch -> _handleSearch
# - handleReset -> _handleReset

# âœ… æ­£ç¡®
git commit -m "refactor(finance): æ ‡è®°æœªä½¿ç”¨çš„å‡½æ•°ä¸ºç§æœ‰

- å°† handleSearch é‡å‘½åä¸º _handleSearch
- å°† handleReset é‡å‘½åä¸º _handleReset
- ä¿®å¤ ESLint no-unused-vars è­¦å‘Š"
```

### é”™è¯¯ 2: ä¸€æ¬¡æäº¤åšå¤šä»¶äº‹

```bash
# âŒ é”™è¯¯
git commit -m "ä¿®å¤ bug å¹¶æ·»åŠ æ–°åŠŸèƒ½å’Œä¼˜åŒ–æ€§èƒ½"

# âœ… æ­£ç¡® - æ‹†åˆ†ä¸º 3 ä¸ªæäº¤
git commit -m "fix(api): ä¿®å¤åˆ†é¡µå‚æ•°éªŒè¯é”™è¯¯"
git commit -m "feat(finance): æ·»åŠ åº”æ”¶æ¬¾å¯¼å‡ºåŠŸèƒ½"
git commit -m "perf(cache): æ·»åŠ  Redis ç¼“å­˜å±‚"
```

### é”™è¯¯ 3: æäº¤ä¿¡æ¯ä¸å…·ä½“

```bash
# âŒ é”™è¯¯
git commit -m "ä¿®å¤ bug"
git commit -m "æ›´æ–°ä»£ç "
git commit -m "ä¼˜åŒ–"

# âœ… æ­£ç¡®
git commit -m "fix(api): ä¿®å¤é”€å”®è®¢å•åˆ›å»ºæ—¶åº“å­˜æ£€æŸ¥é€»è¾‘é”™è¯¯"
git commit -m "refactor(inventory): æ‹†åˆ†åº“å­˜æŸ¥è¯¢å‡½æ•°,æ¯ä¸ªå‡½æ•°ä¸è¶…è¿‡50è¡Œ"
git commit -m "perf(database): ä¸º sales_orders è¡¨æ·»åŠ  customer_id ç´¢å¼•"
```

### é”™è¯¯ 4: åŒ…å«æ— å…³æ–‡ä»¶

```bash
# âŒ é”™è¯¯ - åŒ…å«äº†æ•°æ®åº“æ–‡ä»¶
git add .
git commit -m "feat(finance): æ·»åŠ å¯¼å‡ºåŠŸèƒ½"
# å®é™…æäº¤äº†: page.tsx, prisma/dev.db

# âœ… æ­£ç¡® - åªæäº¤ç›¸å…³æ–‡ä»¶
git add app/(dashboard)/finance/receivables/page.tsx
git add app/api/finance/receivables/export/route.ts
git commit -m "feat(finance): æ·»åŠ åº”æ”¶æ¬¾å¯¼å‡ºåŠŸèƒ½"
```

## ğŸ“‹ æäº¤æµç¨‹

### æ ‡å‡†æµç¨‹

```bash
# 1. æŸ¥çœ‹ä¿®æ”¹çŠ¶æ€
git status

# 2. æŸ¥çœ‹å…·ä½“æ”¹åŠ¨
git diff

# 3. è¿è¡Œä»£ç æ£€æŸ¥
npm run lint
npm run type-check

# 4. æ·»åŠ æ–‡ä»¶(ç²¾ç¡®æŒ‡å®š)
git add app/(dashboard)/finance/receivables/page.tsx

# 5. å†æ¬¡ç¡®è®¤æš‚å­˜å†…å®¹
git diff --cached

# 6. æäº¤(ä½¿ç”¨è§„èŒƒæ ¼å¼)
git commit -m "feat(finance): æ·»åŠ åº”æ”¶æ¬¾å¯¼å‡ºåŠŸèƒ½

- æ·»åŠ å¯¼å‡ºæŒ‰é’®å’Œä¸‹æ‹‰èœå•
- å®ç° Excel å¯¼å‡ºé€»è¾‘
- æ”¯æŒç­›é€‰æ¡ä»¶å¯¼å‡º"

# 7. æ¨é€åˆ°è¿œç¨‹
git push origin <branch-name>
```

### ä¿®æ”¹ä¸Šä¸€æ¬¡æäº¤

```bash
# å¦‚æœå‘ç°ä¸Šæ¬¡æäº¤æœ‰é—®é¢˜,å¯ä»¥ä¿®æ”¹
git add <forgotten-file>
git commit --amend

# æ³¨æ„: åªèƒ½ä¿®æ”¹æœªæ¨é€çš„æäº¤!
```

## ğŸ” æäº¤å†å²æ£€æŸ¥

### æŸ¥çœ‹æäº¤å†å²

```bash
# æŸ¥çœ‹æœ€è¿‘ 10 æ¡æäº¤
git log --oneline -10

# æŸ¥çœ‹æŸä¸ªæ–‡ä»¶çš„æäº¤å†å²
git log --oneline -- path/to/file.tsx

# æŸ¥çœ‹æŸæ¬¡æäº¤çš„è¯¦ç»†å†…å®¹
git show <commit-hash>

# æŸ¥çœ‹æŸæ¬¡æäº¤ä¿®æ”¹çš„æ–‡ä»¶
git show <commit-hash> --stat
```

### éªŒè¯æäº¤è´¨é‡

```bash
# æ£€æŸ¥æäº¤ä¿¡æ¯æ˜¯å¦ç¬¦åˆè§„èŒƒ
git log --oneline -10

# æ£€æŸ¥æ¯æ¬¡æäº¤çš„å®é™…æ”¹åŠ¨
git log -p -10

# æ£€æŸ¥æ˜¯å¦æœ‰å¤§æ–‡ä»¶æäº¤
git log --all --pretty=format: --name-only --diff-filter=A | sort -u
```

## ğŸ› ï¸ å·¥å…·é…ç½®

### Commitlint é…ç½®

é¡¹ç›®å·²é…ç½® Husky + lint-staged,ä¼šåœ¨æäº¤å‰è‡ªåŠ¨:

1. è¿è¡Œ ESLint æ£€æŸ¥
2. è¿è¡Œ Prettier æ ¼å¼åŒ–
3. éªŒè¯æäº¤ä¿¡æ¯æ ¼å¼

å¦‚æœæ£€æŸ¥å¤±è´¥,æäº¤ä¼šè¢«æ‹’ç»ã€‚

### æäº¤æ¨¡æ¿

å¯ä»¥åˆ›å»ºæäº¤æ¨¡æ¿:

```bash
# .gitmessage
<type>(<scope>): <subject>

# ä¸ºä»€ä¹ˆåšè¿™ä¸ªä¿®æ”¹?

# ä¿®æ”¹äº†ä»€ä¹ˆ?

# å¦‚ä½•ä¿®æ”¹çš„?

# å½±å“èŒƒå›´?
```

é…ç½®ä½¿ç”¨:

```bash
git config commit.template .gitmessage
```

## ğŸ“š å‚è€ƒèµ„æº

- [Conventional Commits](https://www.conventionalcommits.org/)
- [Angular Commit Guidelines](https://github.com/angular/angular/blob/main/CONTRIBUTING.md#commit)
- [Semantic Versioning](https://semver.org/)

---

**è®°ä½**: å¥½çš„æäº¤ä¿¡æ¯æ˜¯ç»™æœªæ¥çš„è‡ªå·±å’Œå›¢é˜Ÿæˆå‘˜çš„ç¤¼ç‰©!
