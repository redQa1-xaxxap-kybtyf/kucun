# 生产环境配置示例
# 复制此文件为 .env.production 并填入实际值
# 警告: 不要将 .env.production 提交到版本控制!

# ============================================
# 数据库配置 - 生产环境使用 MySQL
# ============================================
DATABASE_URL="mysql://username:password@host:3306/database?connection_limit=10&pool_timeout=30"

# ============================================
# Next-Auth.js 配置
# ============================================
# 生产环境 URL
NEXTAUTH_URL="https://your-domain.com"

# 生成强密钥: openssl rand -base64 32
NEXTAUTH_SECRET="<使用 openssl rand -base64 32 生成>"

# ============================================
# Redis 配置（缓存层）
# ============================================
REDIS_URL="redis://your-redis-host:6379"
REDIS_POOL_SIZE="10"
REDIS_NAMESPACE="kucun_prod"

# ============================================
# WebSocket 配置
# ============================================
WS_PORT="3002"
WS_ALLOWED_ORIGINS="https://your-domain.com"
NEXT_PUBLIC_WS_PORT="3002"

# ============================================
# 应用配置
# ============================================
NODE_ENV="production"
PORT="3000"

# ============================================
# 文件上传配置
# ============================================
UPLOAD_DIR="/var/www/uploads"
UPLOAD_MAX_SIZE="10485760"  # 10MB in bytes

# ============================================
# 存储加密密钥
# ============================================
# 生成强密钥: openssl rand -base64 32
STORAGE_ENCRYPTION_KEY="<使用 openssl rand -base64 32 生成>"
STORAGE_REGION="z0"

# ============================================
# 日志配置
# ============================================
LOG_LEVEL="warn"  # 生产环境使用 warn 或 error
LOG_RETENTION_DAYS="30"
LOG_CRITICAL_ACTIONS="login,logout,delete,update_settings"
LOG_CRITICAL_TYPES="security,system,error"
LOG_CRITICAL_LEVELS="error,warn,info"

# ============================================
# 缓存配置
# ============================================
PRODUCT_CACHE_TTL="60"
INVENTORY_CACHE_TTL="10"

# ============================================
# 库存阈值配置
# ============================================
INVENTORY_DEFAULT_MIN_QUANTITY="10"
INVENTORY_CRITICAL_MIN_QUANTITY="5"
INVENTORY_OVERSTOCK_MULTIPLIER="5"
INVENTORY_MAX_STOCK_MULTIPLIER="50"
INVENTORY_AVERAGE_DAILY_SALES="2"
INVENTORY_ALERT_REFRESH_INTERVAL="300000"
INVENTORY_ALERT_LIMIT="20"

# ============================================
# 分页配置
# ============================================
DEFAULT_PAGE_SIZE="20"
MAX_PAGE_SIZE="100"

# ============================================
# 产品模块配置
# ============================================
PRODUCT_LIST_INCLUDE_INVENTORY="false"
PRODUCT_LIST_INCLUDE_STATISTICS="false"
PRODUCT_CACHE_WITH_INVENTORY_TTL="60"
PRODUCT_CACHE_WITHOUT_INVENTORY_TTL="30"

# ============================================
# 销售订单配置
# ============================================
ORDER_NUMBER_MAX_RETRY="10"
ORDER_NUMBER_RECENT_LIMIT="5"
SALES_ORDER_PREFIX="SO"
SALES_ORDER_NUMBER_LENGTH="4"

# ============================================
# 客户模块配置
# ============================================
CUSTOMER_SEARCH_LIMIT="5"
CUSTOMER_TAG_LIMIT="10"

# ============================================
# 仪表盘配置
# ============================================
DASHBOARD_STALE_TIME="300000"
DASHBOARD_REFETCH_INTERVAL="60000"

# ============================================
# 厂家发货模块配置
# ============================================
FACTORY_SHIPMENT_ORDER_PREFIX="FS"
FACTORY_SHIPMENT_QUERY_LIMIT="1000"

# ============================================
# 退货/退款模块配置
# ============================================
REFUND_ORDER_PREFIX="REF"
RETURN_ORDER_PREFIX="RT"
RETURN_ORDER_ITEMS_LIMIT="50"
REFUND_BATCH_LIMIT="100"

# ============================================
# 财务模块配置
# ============================================
FINANCE_CREDIT_LIMIT="100000"
FINANCE_CACHE_TTL="300"

# ============================================
# 供应商模块配置
# ============================================
SUPPLIER_QUERY_LIMIT="100"
SUPPLIER_CACHE_TTL="300000"
SUPPLIER_DEFAULT_STATUS="active"

# ============================================
# 系统基础设置配置
# ============================================
SYSTEM_DEFAULT_LANGUAGE="zh"
SYSTEM_COMPANY_NAME="库存管理系统"
SYSTEM_TIMEZONE="Asia/Shanghai"

# ============================================
# 用户策略配置
# ============================================
USER_PASSWORD_MIN_LENGTH="8"
USER_MAX_LOGIN_ATTEMPTS="5"
USER_SESSION_TIMEOUT="90"

# ============================================
# 存储配置
# ============================================
STORAGE_MAX_FILE_SIZE="10485760"
STORAGE_ALLOWED_FILE_TYPES="jpg,jpeg,png,pdf,doc,docx,xls,xlsx"

